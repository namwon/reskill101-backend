(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports=a(421)},230:function(e,t,a){},390:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(218),i=a.n(r),s=(a(230),a(25)),o=a(26),c=a(30),u=a(27),m=a(31),h=a(11),d=a(38),p=a(15),b=Object(p.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){return l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.c,{to:"/mainGroup",className:"nav-link"},"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e27\u0e34\u0e0a\u0e32")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link",onClick:e.signOut},"Log Out")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("span",{className:"badge badge-warning"},l.a.createElement(h.c,{to:"/",className:"nav-link"},e.profile.initials))))}),f=function(){return l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.c,{className:"nav-link",to:"/signup"},"Signup")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.c,{className:"nav-link",to:"/signin"},"Login")))},g=Object(p.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var t=e.auth,a=e.profile,n=t.uid?l.a.createElement(b,{profile:a}):l.a.createElement(f,null);return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"container collapse navbar-collapse"},l.a.createElement(h.b,{to:"/",className:"navbar-brand"},"ReSkill101"),n))}),v=a(28),E=a(12),N=a(20),S=a(94),O=a.n(S);a(242),a(243);O.a.initializeApp({apiKey:"AIzaSyDJzezPaGV32JaRYdDDJCtcCBUD-zOsmjY",authDomain:"reskill101-5d48c.firebaseapp.com",databaseURL:"https://reskill101-5d48c.firebaseio.com",projectId:"reskill101-5d48c",storageBucket:"reskill101-5d48c.appspot.com",messagingSenderId:"891449306069",appId:"1:891449306069:web:3a78cfa815297898"}),O.a.firestore().settings({timestampsInSnapshots:!0});var w=O.a,C=a(33),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a.setState({item_id:e,title:t,desc:n,photos:l})},a.state={items:[],item_id:"",title:"",desc:"",photos:null},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.database().ref("bookshelf/data").orderByChild("createedAt").limitToLast(100).on("value",function(t){var a=t.val(),n=[];for(var l in a)n.push({item_id:l,title:a[l].title,desc:a[l].desc,photos:a[l].photos});e.setState({items:n})})}},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({photos:t})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.item_id)return this.updateItem();var a=w.database().ref("bookshelf/data"),n=w.storage().ref("images").child(this.state.photos.name);n.put(this.state.photos).then(function(e){console.log("upload complete"),console.log("getDownloadURL start"),n.getDownloadURL().then(function(e){t.setState({photos:e});var n={title:t.state.title,desc:t.state.desc,photos:t.state.photos,createedAt:w.database.ServerValue.TIMESTAMP};a.push(n).then(function(){console.log("load complete")}),t.setState({item_id:"",title:"",desc:"",photos:null})})})}},{key:"updateItem",value:function(){var e={title:this.state.title,desc:this.state.desc};w.database().ref("/bookshelf/data").child(this.state.item_id).update(e),this.setState({item_id:"",title:"",desc:"",photos:""})}},{key:"removeItem",value:function(e){w.database().ref("/bookshelf/data").child(e).remove()}},{key:"render",value:function(){var e=this;return this.props.auth.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:70}},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("input",{type:"text",name:"title",className:"form-control",placeholder:"Title",onChange:this.handleChange,value:this.state.title})),l.a.createElement("div",{className:"col-5"},l.a.createElement("input",{type:"text",name:"desc",className:"form-control",placeholder:"desc",onChange:this.handleChange,value:this.state.desc})),l.a.createElement("div",null,l.a.createElement("input",{type:"file",name:"photos",onChange:this.handleFileChange})),l.a.createElement("div",{className:"col"},l.a.createElement("button",{class:"btn btn-primary"},l.a.createElement("i",{className:"fa fa-save"})," Save")))))),l.a.createElement("hr",null),l.a.createElement("table",{className:"table table-sm table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"thead-dark"},l.a.createElement("th",{width:"20%"},"Thumail"),l.a.createElement("th",{width:"65%"},"Title"),l.a.createElement("th",{width:"5%"},"Videos"),l.a.createElement("th",{width:"5%"},"Edit"),l.a.createElement("th",{width:"5%"},"Delete"))),l.a.createElement("tbody",null,this.state.items.map(function(t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{className:"img-fluid",src:t.photos,alt:t.title})),l.a.createElement("td",null,l.a.createElement("h5",null,t.title),t.desc),l.a.createElement("td",null,l.a.createElement(h.b,{to:"/item/"+t.item_id,key:t.item_id,className:"btn btn-info btn-sm"},"Add")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:function(){return e.handleUpdate(t.item_id,t.title,t.desc)}},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return e.removeItem(t.item_id)}},"Delete")))}))))):l.a.createElement(d.a,{to:"/signin"})}}]),t}(n.Component),y=Object(N.d)(Object(p.b)(function(e){return{auth:e.firebase.auth}}),Object(C.firebaseConnect)(function(e){return["bookshelf"]}))(k),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={items:[],page_id:"",pagedesc:"",photo:"",count:0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.id;w.database().ref("bookshelf/data/"+t+"/page").on("value",function(t){var a=t.val(),n=[];for(var l in a)n.push({page_id:l,pagedesc:a[l].pagedesc,photo:a[l].photo});e.setState({items:n})})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.page_id)return this.updateItem();var a=this.props.id,n=w.database().ref("bookshelf/data/"+a+"/page"),l={pagedesc:this.state.pagedesc,photo:this.state.photo};n.push(l).then(function(){t.setState({page_id:"",pagedesc:"",photo:"",count:0})})}},{key:"updateItem",value:function(){var e=this.props.id,t={pagedesc:this.state.pagedesc,photo:this.state.photo};w.database().ref("bookshelf/data/"+e+"/page").child(this.state.item_id).update(t),this.setState({item_id:"",pagedesc:"",photo:"",count:0})}},{key:"removeItem",value:function(e){var t=this.props.id;w.database().ref("/bookshelf/data/"+t+"/page").child(e).remove(),this.setState({count:0})}},{key:"render",value:function(e){var t=this,a=this.props,n=a.auth,r=a.group;return n.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:70}},l.a.createElement("h3",null,r.title),r.desc,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("input",{type:"text",name:"pagedesc",className:"form-control",placeholder:"Page Description",onChange:this.handleChange,value:this.state.pagedesc})),l.a.createElement("div",{className:"col-5"},l.a.createElement("input",{type:"text",name:"photo",className:"form-control",placeholder:"Photo or Video link",onChange:this.handleChange,value:this.state.photo})),l.a.createElement("div",{className:"col"},l.a.createElement("button",{class:"btn btn-primary"},l.a.createElement("i",{className:"fa fa-save"})," Save")))))),l.a.createElement("hr",null),l.a.createElement("table",{className:"table table-sm table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Video Description"),l.a.createElement("th",null,"Video URL"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,this.state.items.map(function(e){return t.state.count++,l.a.createElement("tr",null,l.a.createElement("td",null,t.state.count),l.a.createElement("td",null,e.pagedesc),l.a.createElement("td",null,l.a.createElement("a",{href:e.photo,target:"_blank",rel:e.pagedesc},e.photo)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return t.removeItem(e.page_id)}},"Delete")))}))))):l.a.createElement(d.a,{to:"/signin"})}}]),t}(n.Component),I=Object(N.d)(Object(p.b)(function(e,t){var a=t.match.params.id,n=e.firebase.data.bookshelf;return{group:n?n.data[a]:null,auth:e.firebase.auth,id:a}}),Object(C.firebaseConnect)(function(e){return["bookshelf"]}))(j),_=a(422),U=a(425),F=a(424),R=a(423),D=(a(390),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return this.props.auth.uid?l.a.createElement(d.a,{to:"/"}):l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(_.a,{controlId:"email",bsSize:"large"},l.a.createElement(U.a,null,"Email"),l.a.createElement(F.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement(_.a,{controlId:"password",bsSize:"large"},l.a.createElement(U.a,null,"Password"),l.a.createElement(F.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),l.a.createElement(R.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"Login")))}}]),t}(n.Component)),L=Object(p.b)(function(e){return{auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(D),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state),a.props.signUp(a.state)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.firstName.length>0&&this.state.lastName.length>0}},{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?l.a.createElement(d.a,{to:"/"}):l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(_.a,{controlId:"email",bsSize:"large"},l.a.createElement(U.a,null,"Email"),l.a.createElement(F.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement(_.a,{controlId:"password",bsSize:"large"},l.a.createElement(U.a,null,"Password"),l.a.createElement(F.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),l.a.createElement(_.a,{controlId:"firstName",bsSize:"large"},l.a.createElement(U.a,null,"First Name"),l.a.createElement(F.a,{autoFocus:!0,type:"text",value:this.state.firstName,onChange:this.handleChange})),l.a.createElement(_.a,{controlId:"lastName",bsSize:"large"},l.a.createElement(U.a,null,"Last Name"),l.a.createElement(F.a,{autoFocus:!0,type:"text",value:this.state.lastName,onChange:this.handleChange})),l.a.createElement(R.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"SignUp"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null)))}}]),t}(n.Component),x=Object(p.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var l=n.getFirebase,r=n.getFirestore,i=l(),s=r();i.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return console.log(e),s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(A),P=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(g,null),l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:y}),l.a.createElement(d.b,{exact:!0,path:"/mainGroup",component:y}),l.a.createElement(d.b,{exact:!0,path:"/item/:id",component:I}),l.a.createElement(d.b,{path:"/signin",component:L}),l.a.createElement(d.b,{path:"/signup",component:x}))))}}]),t}(n.Component),z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var T=a(67),W={authError:null},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN_ERROR":case"LOGIN_SUCCESS":return Object(T.a)({},e);case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":case"SIGNUP_ERROR":return Object(T.a)({},e);default:return e}},B=Object(N.c)({auth:V,firebase:C.firebaseReducer}),J=a(223),M=a(139),Y=Object(N.e)(B,Object(N.d)(Object(N.a)(J.a.withExtraArgument({getFirebase:C.getFirebase,getFirestore:M.getFirestore})),Object(M.reduxFirestore)(w),Object(C.reactReduxFirebase)(w,{useFirestoreForProfile:!0,userProfile:"users",enableLogging:!1})));i.a.render(l.a.createElement(p.a,{store:Y},l.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");z?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):G(t,e)})}}()}},[[225,1,2]]]);
//# sourceMappingURL=main.4192bf63.chunk.js.map