(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,a){e.exports=a(426)},231:function(e,t,a){},395:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(218),i=a.n(o),r=(a(231),a(12)),s=a(13),c=a(17),d=a(14),h=a(16),m=a(7),u=a(37),p=a(8),b=Object(p.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){return l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(m.c,{to:"/mainGroup",className:"nav-link"},"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e27\u0e34\u0e0a\u0e32")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link",onClick:e.signOut},"Log Out")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("span",{className:"badge badge-warning"},l.a.createElement(m.c,{to:"/",className:"nav-link"},e.profile.initials))))}),f=function(){return l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(m.c,{className:"nav-link",to:"/signin"},"Login")))},v=Object(p.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var t=e.auth,a=e.profile,n=t.uid?l.a.createElement(b,{profile:a}):l.a.createElement(f,null);return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"container collapse navbar-collapse"},l.a.createElement(m.b,{to:"/",className:"navbar-brand"},"ReSkill101"),n))}),g=a(15),E=a(5),N=a(10),S=a(94),k=a.n(S);a(247),a(248);k.a.initializeApp({apiKey:"AIzaSyDJzezPaGV32JaRYdDDJCtcCBUD-zOsmjY",authDomain:"reskill101-5d48c.firebaseapp.com",databaseURL:"https://reskill101-5d48c.firebaseio.com",projectId:"reskill101-5d48c",storageBucket:"reskill101-5d48c.appspot.com",messagingSenderId:"891449306069",appId:"1:891449306069:web:3a78cfa815297898"}),k.a.firestore().settings({timestampsInSnapshots:!0});var C=k.a,O=a(18),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a.setState({item_id:e,title:t,desc:n,photos:l})},a.state={items:[],item_id:"",title:"",desc:"",photos:null},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.database().ref("bookshelf/data").orderByChild("createedAt").on("value",function(t){var a=t.val(),n=[];for(var l in a)n.push({item_id:l,title:a[l].title,desc:a[l].desc,photos:a[l].photos});e.setState({items:n})})}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({photos:t})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.item_id)return this.updateItem();var a=C.database().ref("bookshelf/data"),n=C.storage().ref("images").child(this.state.photos.name);n.put(this.state.photos).then(function(e){console.log("upload complete"),console.log("getDownloadURL start"),n.getDownloadURL().then(function(e){t.setState({photos:e});var n={title:t.state.title,desc:t.state.desc,photos:t.state.photos,createedAt:C.database.ServerValue.TIMESTAMP};a.push(n).then(function(){console.log("load complete")}),t.setState({item_id:"",title:"",desc:"",photos:null})})})}},{key:"updateItem",value:function(){var e={title:this.state.title,desc:this.state.desc};C.database().ref("/bookshelf/data").child(this.state.item_id).update(e),this.setState({item_id:"",title:"",desc:"",photos:""})}},{key:"removeItem",value:function(e){C.database().ref("/bookshelf/data").child(e).remove()}},{key:"render",value:function(){var e=this;return this.props.auth.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:20}},l.a.createElement(m.b,{to:"/addGroup",className:"btn btn-primary"},"Add Group"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-sm table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"thead-dark"},l.a.createElement("th",{width:"20%"},"Thumail"),l.a.createElement("th",{width:"65%"},"Title"),l.a.createElement("th",{width:"5%"},"Videos"),l.a.createElement("th",{width:"5%"},"Edit"),l.a.createElement("th",{width:"5%"},"Delete"))),l.a.createElement("tbody",null,this.state.items.map(function(t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{className:"img-fluid",src:t.photos,alt:t.title})),l.a.createElement("td",null,l.a.createElement("h5",null,t.title),t.desc),l.a.createElement("td",null,l.a.createElement(m.b,{to:"/item/"+t.item_id,key:t.item_id,className:"btn btn-info btn-sm"},"Add")),l.a.createElement("td",null,l.a.createElement(m.b,{to:"/editGroup/"+t.item_id,key:t.item_id,className:"btn btn-warning btn-sm"},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return e.removeItem(t.item_id)}},"Delete")))}))))):l.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),j=Object(N.d)(Object(p.b)(function(e){return{auth:e.firebase.auth}}),Object(O.firebaseConnect)(function(e){return["bookshelf"]}))(y),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={items:[],item_id:"",title:"",desc:"",photos:null},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.database().ref("bookshelf/data").on("value",function(t){var a=t.val(),n=[];for(var l in a)n.push({item_id:l,title:a[l].title,desc:a[l].desc,photos:a[l].photos});e.setState({items:n})})}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({photos:t})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.item_id)return this.updateItem();var a=C.database().ref("bookshelf/data"),n=C.storage().ref("images").child(this.state.photos.name);n.put(this.state.photos).then(function(e){n.getDownloadURL().then(function(e){t.setState({photos:e});var n={title:t.state.title,desc:t.state.desc,photos:t.state.photos,createedAt:C.database.ServerValue.TIMESTAMP};a.push(n).then(function(){console.log("load complete")}),t.setState({item_id:"",title:"",desc:"",photos:null}),t.props.history.push("/")})})}},{key:"render",value:function(){return this.props.auth.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:20}},l.a.createElement("h2",null,"Add Group Skill"),l.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginTop:20}},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"title",className:"col-md-2 col-form-label"},"Title"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Enter Title Group",onChange:this.handleChange,value:this.state.title}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"desc",className:"col-md-2 col-form-label"},"Description"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("textarea",{className:"form-control",name:"desc",rows:"3",placeholder:"Enter Description",onChange:this.handleChange},this.state.desc))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"photos",className:"col-md-2 col-form-label"},"Cover Group"),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("input",{type:"file",name:"photos",onChange:this.handleFileChange}))),l.a.createElement("button",{className:"btn btn-primary"},l.a.createElement("i",{className:"fa fa-save"})," Save")))):l.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),_=Object(N.d)(Object(p.b)(function(e){return{auth:e.firebase.auth}}),Object(O.firebaseConnect)(function(e){return["bookshelf"]}))(w),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={items:[],item_id:"",title:"",desc:"",photos:"",old_photos:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;C.database().ref("bookshelf/data/"+t).on("value",function(t){var a=t.val();e.setState({item_id:a,title:a.title,desc:a.desc,old_photos:a.photos})})}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({photos:t})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.id,n=C.database().ref("bookshelf/data");if(""!==this.state.photos){var l=C.storage().ref("images").child(this.state.photos.name);l.put(this.state.photos).then(function(e){l.getDownloadURL().then(function(e){t.setState({photos:e});var l={title:t.state.title,desc:t.state.desc,photos:t.state.photos,createedAt:C.database.ServerValue.TIMESTAMP};n.child(a).update(l),t.setState({item_id:"",title:"",desc:"",photos:null}),t.props.history.push("/")})})}else{var o={title:this.state.title,desc:this.state.desc,photos:this.state.old_photos,createedAt:C.database.ServerValue.TIMESTAMP};n.child(a).update(o),this.setState({item_id:"",title:"",desc:"",photos:null}),this.props.history.push("/")}}},{key:"render",value:function(){return this.props.auth.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:20}},l.a.createElement("h2",null,"Add Group Skill"),l.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginTop:20}},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"title",className:"col-md-2 col-form-label"},"Title"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Enter Title Group",onChange:this.handleChange,value:this.state.title}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"desc",className:"col-md-2 col-form-label"},"Description"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("textarea",{className:"form-control",name:"desc",rows:"3",placeholder:"Enter Description",onChange:this.handleChange,value:this.state.desc}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"photos",className:"col-md-2 col-form-label"},"Cover Group"),l.a.createElement("input",{type:"hidden",value:this.state.old_photos}),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("input",{type:"file",name:"photos",onChange:this.handleFileChange}))),l.a.createElement("button",{className:"btn btn-primary"},l.a.createElement("i",{className:"fa fa-save"})," Save")))):l.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),F=Object(N.d)(Object(p.b)(function(e,t){var a=t.match.params.id,n=e.firebase.data.bookshelf;return{group:n?n.data[a]:null,auth:e.firebase.auth,id:a}}),Object(O.firebaseConnect)(function(e){return["bookshelf"]}))(D),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={items:[],teacher:"",page_id:"",pagedesc:"",photo:"",linkvideo:"",titlevideo:"",count:0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({photo:t})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.id;C.database().ref("bookshelf/data/"+t+"/page").on("value",function(t){var a=t.val(),n=[];for(var l in a)n.push({page_id:l,pagedesc:a[l].pagedesc,photo:a[l].photo,linkvideo:a[l].linkvideo,titlevideo:a[l].titlevideo,teacher:a[l].teacher});e.setState({items:n})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.id,n=C.database().ref("bookshelf/data/"+a+"/page"),l=C.storage().ref("images").child(this.state.photo.name);l.put(this.state.photo).then(function(e){l.getDownloadURL().then(function(e){t.setState({photo:e});var l={linkvideo:t.state.linkvideo,titlevideo:t.state.titlevideo,pagedesc:t.state.pagedesc,photo:t.state.photo,teacher:t.state.teacher,createedAt:C.database.ServerValue.TIMESTAMP};n.push(l).then(function(){console.log("load complete")}),t.setState({page_id:"",pagedesc:"",photo:"",linkvideo:"",titlevideo:"",teacher:"",count:0}),t.props.history.push("/item/"+a)})})}},{key:"render",value:function(e){var t=this.props,a=t.auth,n=t.group;return a.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:70}},l.a.createElement("h3",null,"Add Vidoe to [",n.title,"]"),n.desc,l.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginTop:20}},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"titlevideo",className:"col-md-2 col-form-label"},"Title"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"titlevideo",placeholder:"Enter Title Group",onChange:this.handleChange,value:this.state.titlevideo}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"teacher",className:"col-md-2 col-form-label"},"Teacher"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"teacher",placeholder:"Enter Teacher name",onChange:this.handleChange,value:this.state.teacher}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"linkvideo",className:"col-md-2 col-form-label"},"Link URL"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"linkvideo",placeholder:"Enter http://youtube.com/xxxxx",onChange:this.handleChange,value:this.state.linkvideo})),l.a.createElement("label",{for:"duration",className:"col-md-1 col-form-label text-right"},"Duration"),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{type:"text",className:"form-control",name:"duration",placeholder:"ex. 22.30",onChange:this.handleChange,value:this.state.duration}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"photo",className:"col-md-2 col-form-label"},"Cover Skill"),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("input",{type:"file",name:"photo",onChange:this.handleFileChange}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"pagedesc",className:"col-md-2 col-form-label"},"Description"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("textarea",{className:"form-control",name:"pagedesc",rows:"3",placeholder:"Enter Description",onChange:this.handleChange},this.state.pagedesc))),l.a.createElement("button",{className:"btn btn-primary"},l.a.createElement("i",{className:"fa fa-save"})," Save")))):l.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),I=Object(N.d)(Object(p.b)(function(e,t){var a=t.match.params.id,n=e.firebase.data.bookshelf;return{group:n?n.data[a]:null,auth:e.firebase.auth,id:a}}),Object(O.firebaseConnect)(function(e){return["bookshelf"]}))(x),T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={items:[],teacher:"",page_id:"",pagedesc:"",photo:"",old_photo:"",linkvideo:"",titlevideo:"",duration:"",count:0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({photo:t})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.id,n=t.eid;C.database().ref("bookshelf/data/"+a+"/page/"+n).on("value",function(t){var a=t.val();console.log(a),e.setState({page_id:a,pagedesc:a.pagedesc,old_photo:a.photo,linkvideo:a.linkvideo,titlevideo:a.titlevideo,teacher:a.teacher,duration:a.duration})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props,n=a.id,l=a.eid,o=C.database().ref("bookshelf/data/"+n+"/page");if(""===this.state.photo){var i={linkvideo:this.state.linkvideo,titlevideo:this.state.titlevideo,pagedesc:this.state.pagedesc,photo:this.state.old_photo,teacher:this.state.teacher,duration:this.state.duration};o.child(l).update(i),this.setState({page_id:"",pagedesc:"",photo:"",old_photo:"",linkvideo:"",titlevideo:"",teacher:"",duration:"",count:0}),this.props.history.push("/item/"+n)}else{var r=C.storage().ref("images").child(this.state.photo.name);r.put(this.state.photo).then(function(e){r.getDownloadURL().then(function(e){t.setState({photo:e});var a={linkvideo:t.state.linkvideo,titlevideo:t.state.titlevideo,pagedesc:t.state.pagedesc,photo:t.state.photo,teacher:t.state.teacher,duration:t.state.duration};o.child(l).update(a),t.setState({page_id:"",pagedesc:"",photo:"",old_photo:"",linkvideo:"",titlevideo:"",teacher:"",duration:"",count:0}),t.props.history.push("/item/"+n)})})}}},{key:"render",value:function(e){var t=this.props,a=t.auth,n=t.group;return a.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:70}},l.a.createElement("h3",null,"Edit Vidoe in [",n.title,"]"),n.desc,l.a.createElement("hr",null),l.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginTop:20}},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"titlevideo",className:"col-md-2 col-form-label"},"Title"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"titlevideo",placeholder:"Enter Title Group",onChange:this.handleChange,value:this.state.titlevideo}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"teacher",className:"col-md-2 col-form-label"},"Teacher"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"teacher",placeholder:"Enter Teacher name",onChange:this.handleChange,value:this.state.teacher}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"linkvideo",className:"col-md-2 col-form-label"},"Link URL"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{type:"text",className:"form-control",name:"linkvideo",placeholder:"Enter http://youtube.com/xxxxx",onChange:this.handleChange,value:this.state.linkvideo})),l.a.createElement("label",{for:"duration",className:"col-md-1 col-form-label text-right"},"Duration"),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{type:"text",className:"form-control",name:"duration",placeholder:"ex. 22.30",onChange:this.handleChange,value:this.state.duration}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"photo",className:"col-md-2 col-form-label"},"Cover Skill"),l.a.createElement("input",{type:"hidden",name:"old_photo",value:this.state.ols_photo}),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("input",{type:"file",name:"photo",onChange:this.handleFileChange}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"pagedesc",className:"col-md-2 col-form-label"},"Description"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("textarea",{className:"form-control",name:"pagedesc",rows:"3",placeholder:"Enter Description",onChange:this.handleChange,value:this.state.pagedesc}))),l.a.createElement("button",{className:"btn btn-primary"},l.a.createElement("i",{className:"fa fa-save"})," Save")))):l.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),A=Object(N.d)(Object(p.b)(function(e,t){var a=t.match.params.id,n=t.match.params.eid,l=e.firebase.data.bookshelf;return{group:l?l.data[a]:null,auth:e.firebase.auth,id:a,eid:n}}),Object(O.firebaseConnect)(function(e){return["bookshelf"]}))(T),U=a(431),R=a(435),G=a(434),L=a(432),P=(a(395),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return this.props.auth.uid?l.a.createElement(u.a,{to:"/"}):l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(U.a,{controlId:"email",bsSize:"large"},l.a.createElement(R.a,null,"Email"),l.a.createElement(G.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement(U.a,{controlId:"password",bsSize:"large"},l.a.createElement(R.a,null,"Password"),l.a.createElement(G.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),l.a.createElement(L.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"Login")))}}]),t}(n.Component)),M=Object(p.b)(function(e){return{auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(P),z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state),a.props.signUp(a.state)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.firstName.length>0&&this.state.lastName.length>0}},{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?l.a.createElement(u.a,{to:"/"}):l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(U.a,{controlId:"email",bsSize:"large"},l.a.createElement(R.a,null,"Email"),l.a.createElement(G.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement(U.a,{controlId:"password",bsSize:"large"},l.a.createElement(R.a,null,"Password"),l.a.createElement(G.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),l.a.createElement(U.a,{controlId:"firstName",bsSize:"large"},l.a.createElement(R.a,null,"First Name"),l.a.createElement(G.a,{autoFocus:!0,type:"text",value:this.state.firstName,onChange:this.handleChange})),l.a.createElement(U.a,{controlId:"lastName",bsSize:"large"},l.a.createElement(R.a,null,"Last Name"),l.a.createElement(G.a,{autoFocus:!0,type:"text",value:this.state.lastName,onChange:this.handleChange})),l.a.createElement(L.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"SignUp"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null)))}}]),t}(n.Component),V=Object(p.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var l=n.getFirebase,o=n.getFirestore,i=l(),r=o();i.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return console.log(e),r.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(z),W=a(433),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={items:[],page_id:"",pagedesc:"",photo:"",linkvideo:"",titlevideo:"",count:0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.id;C.database().ref("bookshelf/data/"+t+"/page").on("value",function(t){var a=t.val(),n=[];for(var l in a)n.push({page_id:l,pagedesc:a[l].pagedesc,photo:a[l].photo,linkvideo:a[l].linkvideo,titlevideo:a[l].titlevideo});e.setState({items:n})})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.page_id)return this.updateItem();var a=this.props.id,n=C.database().ref("bookshelf/data/"+a+"/page"),l={pagedesc:this.state.pagedesc,photo:this.state.photo};n.push(l).then(function(){t.setState({page_id:"",pagedesc:"",photo:"",linkvideo:"",titlevideo:"",count:0})})}},{key:"removeItem",value:function(e){var t=this.props.id;C.database().ref("/bookshelf/data/"+t+"/page").child(e).remove(),this.setState({count:0})}},{key:"render",value:function(e){var t=this,a=this.props,n=a.auth,o=a.group,i=a.id;return n.uid?l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"container",style:{marginTop:70}},l.a.createElement("h3",null,o.title),o.desc,l.a.createElement("hr",null),l.a.createElement(m.b,{to:"/addVideo/"+i,key:i,className:"btn btn-info"},"Add Video"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(W.a,{responsive:!0,striped:!0,bordered:!0,size:"sm"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Cover"),l.a.createElement("th",null,"Video Description"),l.a.createElement("th",null,"Edit"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,this.state.items.map(function(e){return t.state.count++,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},t.state.count),l.a.createElement("td",null,l.a.createElement("img",{className:"img-fluid",src:e.photo,alt:e.title})),l.a.createElement("td",null,e.pagedesc.length>150?l.a.createElement("div",null,"".concat(e.pagedesc.substring(0,150),"...")):l.a.createElement("p",null,e.pagedesc)),l.a.createElement("td",null,l.a.createElement(m.b,{to:"/Video/"+i+"/edit/"+e.page_id,key:e.page_id,className:"btn btn-sm btn-warning"},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return t.removeItem(e.page_id)}},"Delete")))}))))):l.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),J=Object(N.d)(Object(p.b)(function(e,t){var a=t.match.params.id,n=e.firebase.data.bookshelf,l=n?n.data[a]:null;return console.log(l),{group:l,auth:e.firebase.auth,id:a}}),Object(O.firebaseConnect)(function(e){return["bookshelf"]}))(B),Y=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(v,null),l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",component:j}),l.a.createElement(u.b,{path:"/mainGroup",component:j}),l.a.createElement(u.b,{path:"/addGroup",component:_}),l.a.createElement(u.b,{path:"/editGroup/:id",component:F}),l.a.createElement(u.b,{path:"/addVideo/:id",component:I}),l.a.createElement(u.b,{path:"/item/:id",component:J}),l.a.createElement(u.b,{path:"/video/:id/edit/:eid",component:A}),l.a.createElement(u.b,{path:"/signin",component:M}),l.a.createElement(u.b,{path:"/signup",component:V}))))}}]),t}(n.Component),K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var q=a(65),H={authError:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN_ERROR":case"LOGIN_SUCCESS":return Object(q.a)({},e);case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":case"SIGNUP_ERROR":return Object(q.a)({},e);default:return e}},X=Object(N.c)({auth:Q,firebase:O.firebaseReducer}),Z=a(224),ee=a(139),te=Object(N.e)(X,Object(N.d)(Object(N.a)(Z.a.withExtraArgument({getFirebase:O.getFirebase,getFirestore:ee.getFirestore})),Object(ee.reduxFirestore)(C),Object(O.reactReduxFirebase)(C,{useFirestoreForProfile:!0,userProfile:"users",enableLogging:!1})));i.a.render(l.a.createElement(p.a,{store:te},l.a.createElement(Y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");K?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):$(t,e)})}}()}},[[226,1,2]]]);
//# sourceMappingURL=main.5a92fc09.chunk.js.map